(this["webpackJsonpadvice-app"]=this["webpackJsonpadvice-app"]||[]).push([[0],{13:function(e,n,t){},14:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(4),o=t.n(c),i=t(1),s=t(6),u=t(2),l=t.n(u),d=t(5),m=(t(13),function(){var e=Object(d.a)(l.a.mark((function e(n){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a.slip.advice);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),v=function(){var e="https://api.adviceslip.com/advice",n=Object(a.useState)({advice:"Default advice here",isLoading:!1}),t=Object(s.a)(n,2),c=t[0],o=t[1];return Object(a.useEffect)((function(){document.querySelector("title").innerHTML="Advice App",m(e).then((function(e){return o((function(n){return Object(i.a)({},n,{advice:e})}))}))}),[e]),console.log(c),r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:c.error?"modal-bg slide":"modal-bg"},r.a.createElement("div",{className:c.error?"modal slide":"modal"},r.a.createElement("p",null,c.errorMessage),r.a.createElement("button",{onClick:function(){o((function(e){return Object(i.a)({},e,{error:!1})}))}},"OK"))),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,c.advice),r.a.createElement("button",{onClick:function(){o((function(e){return Object(i.a)({},e,{isLoading:!0})})),clearTimeout(c.errorId),console.log("I got clicked!"),m(e).then((function(e){return o((function(n){return Object(i.a)({},n,{advice:e,isLoading:!1})}))})).catch((function(e){var n=setTimeout((function(){o((function(e){return Object(i.a)({},e,{error:!1})}))}),5e3);e.message.includes("resource")&&(e.message=e.message.replace("resource","advice")),o((function(t){return Object(i.a)({},t,{isLoading:!1,error:!0,errorMessage:e.message,errorId:n})})),console.log("no network, try again",e.message)}))}},"Give me advice"," ",r.a.createElement("span",{className:c.isLoading?"loading":""})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,n,t){e.exports=t(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.f3df0972.chunk.js.map